# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è RISC-V –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (Fuzzing Edition)

–≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Ñ–∞–∑–∑–∏–Ω–≥) –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–¥–µ—Å—å –Ω–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã ‚Äî –æ–Ω–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—ã—Å—è—á–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

## üìÇ –°–æ—Å—Ç–∞–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### 1. `assembler.py`
–ú–∏–Ω–∏-–∞—Å—Å–µ–º–±–ª–µ—Ä –¥–ª—è –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ RISC-V.
*   –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π `.asm` –∫–æ–¥ –≤ –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –º–æ–¥—É–ª—è `memory.v`.
*   –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–µ—Ç–∫–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç —Å–º–µ—â–µ–Ω–∏—è –¥–ª—è `beq`, `bne`, `blt`, `jal`, `jalr`.

### 2. `tests_runner.py`
–Ø–¥—Ä–æ —Ç–µ—Å—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ:
*   **ReferenceCPU**: –í—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã–π —ç–º—É–ª—è—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –Ω–∞ Python. –≠–º—É–ª–∏—Ä—É–µ—Ç 32-–±–∏—Ç–Ω—É—é –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫—É (—Å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è–º–∏), –∑–Ω–∞–∫–æ–≤—ã–µ/–±–µ–∑–∑–Ω–∞–∫–æ–≤—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–±–æ—Ç—É –ø–∞–º—è—Ç–∏ –±–∏—Ç-–≤-–±–∏—Ç.
*   **–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã (Fuzzers)**: –°–æ–∑–¥–∞—é—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏.
*   **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é**: –°–∞–º –∑–∞–ø—É—Å–∫–∞–µ—Ç `iverilog`, –ø—Ä–æ–≤–æ–¥–∏—Ç —Å–∏–º—É–ª—è—Ü–∏—é –∏ —Å–≤–µ—Ä—è–µ—Ç –¥–∞–º–ø—ã —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤/–ø–∞–º—è—Ç–∏.

---

## üß™ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–∫–æ–ª–æ **390 —Ç–µ—Å—Ç–æ–≤**, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö –Ω–∞ 6 –≥—Ä—É–ø–ø:

1.  **ALU Chaos (100 —Ç–µ—Å—Ç–æ–≤)**: 
    *   **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –°–ª—É—á–∞–π–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (`add`, `sub`, `and`, `or`, `slt`) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (0, -1, MAX_INT, 0xAAAAAAAA).
    *   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã ALU –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è—Ö –∏ –∑–Ω–∞–∫–æ–≤–æ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏.

2.  **Memory Walk (100 —Ç–µ—Å—Ç–æ–≤)**: 
    *   **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –†–∞–±–æ—Ç–∞ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –∏ —Å–º–µ—â–µ–Ω–∏—è–º–∏. –ó–∞–ø–∏—Å–∏ –∏ —á—Ç–µ–Ω–∏—è (`lw`, `sw`) –ø–æ —Å–ª—É—á–∞–π–Ω—ã–º –∞–¥—Ä–µ—Å–∞–º –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–æ–π –ø–∞–º—è—Ç–∏.
    *   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏.

3.  **Branch Maze (100 —Ç–µ—Å—Ç–æ–≤)**: 
    *   **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** "–õ–∞–±–∏—Ä–∏–Ω—Ç" –∏–∑ –≤–µ—Ç–≤–ª–µ–Ω–∏–π –≤–ø–µ—Ä–µ–¥. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ `beq`, `bne`, `blt` –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª.

4.  **Jump PingPong (50 —Ç–µ—Å—Ç–æ–≤)**: 
    *   **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±–µ–∑—É—Å–ª–æ–≤–Ω—ã—Ö –ø—Ä—ã–∂–∫–æ–≤ (`jal`) –ø–æ —Ä–∞–∑–Ω—ã–º –º–µ—Ç–∫–∞–º.

5.  **Loop Master (50 —Ç–µ—Å—Ç–æ–≤)**:
    *   **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–∏–∫–ª—ã –∏ **–æ–±—Ä–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã**. –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –Ω–∞ –º–µ—Ç–∫–∏, —Å—Ç–æ—è—â–∏–µ –≤—ã—à–µ –ø–æ –∫–æ–¥—É.
    *   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å—á–µ—Ç—á–∏–∫–æ–≤ —Ü–∏–∫–ª–æ–≤ –∏ –ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –Ω–∞–∑–∞–¥.

6.  **Call/Ret Procedures (50 —Ç–µ—Å—Ç–æ–≤)**:
    *   **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –≠–º—É–ª—è—Ü–∏—è –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤—è–∑–∫—É `jal x1, label` (–≤—ã–∑–æ–≤) –∏ `jalr x0, x1, 0` (–≤–æ–∑–≤—Ä–∞—Ç).
    *   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–¥—Ä–µ—Å–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ –∏ –ø—Ä—ã–∂–∫–∞ –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞.

---

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –ª–µ–∂–∞—Ç –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –∫–æ–¥–∞ –∏–∑ –ø–∞–ø–∫–∏ hw2 —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∫—É—Ä—Å–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–º–µ—é—Ç—Å—è –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ —ç—Ç–æ–π –ø–∞–ø–∫–∏.
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
```bash
python3 integration_tests/tests_runner.py
```

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è **–Ω–æ–≤—ã–π** –Ω–∞–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º.

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

*   **ReferenceCPU**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–ª–∞—Å—Å –Ω–∞ Python, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ—á–Ω–æ –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ `register_file.v` –∏ 32-–±–∏—Ç–Ω–æ–≥–æ ALU (—Å —É—Å–µ—á–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤).
*   **–í—Ä–µ–º—è —Å–∏–º—É–ª—è—Ü–∏–∏**: –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –≤ `cpu_test.v` —É–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 500 —Ç–∞–∫—Ç–æ–≤, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.
*   **–î–∏–∞–ø–∞–∑–æ–Ω—ã**: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∞–¥—Ä–µ—Å–æ–≤ –ø–∞–º—è—Ç–∏ (0-8–ö–ë) –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ 12-–±–∏—Ç–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## üîç –û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–æ–∫

–ï—Å–ª–∏ —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç, —Å–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç:
1.  **Program Source Code**: –ü–æ–ª–Ω—ã–π ASM-–∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞.
2.  **Register/Memory Mismatches**: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –∏–ª–∏ —è—á–µ–µ–∫ –ø–∞–º—è—Ç–∏, –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞–∑–æ—à–ª–∏—Å—å —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º —Å–∏–º—É–ª—è—Ç–æ—Ä–æ–º.

---

## üõ† –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã –≤ —Ñ–∞–π–ª–µ `tests_runner.py` (–±–ª–æ–∫ `Main Runner` –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞):
*   –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ (–∞—Ä–≥—É–º–µ–Ω—Ç —Ñ—É–Ω–∫—Ü–∏–π `gen_...`).
*   –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ `ALU Chaos` (—Å–ø–∏—Å–æ–∫ `ops`).
